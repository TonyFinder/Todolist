(this.webpackJsonp01=this.webpackJsonp01||[]).push([[0],{134:function(t,e,n){},160:function(t,e,n){"use strict";n.r(e);var r,c,a,i,s=n(0),o=n.n(s),u=n(35),d=n.n(u),l=(n(134),function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,232)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),r(t),c(t),a(t),i(t)}))}),j=n(28),b=n(74),f=n(16),O=n(12),m=n(107),h=n.n(m).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"api-key":"7c15e34d-028e-4653-86ec-6c53c32699db"}}),p=function(){return h.get("todo-lists")},g=function(t){return h.post("todo-lists",{title:t})},T=function(t,e){return h.put("todo-lists/".concat(t),{title:e})},x=function(t){return h.delete("todo-lists/".concat(t))},I=function(t){return h.get("todo-lists/".concat(t,"/tasks"))},S=function(t,e){return h.post("todo-lists/".concat(t,"/tasks"),{title:e})},y=function(t,e,n){return h.put("todo-lists/".concat(t,"/tasks/").concat(e),n)},v=function(t,e){return h.delete("todo-lists/".concat(t,"/tasks/").concat(e))},C=function(){return h.get("auth/me")},A=function(t){return h.post("auth/login",Object(O.a)({},t))},E=function(){return h.delete("auth/login")};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(r||(r={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(c||(c={})),function(t){t[t.success=0]="success",t[t.error=1]="error"}(a||(a={})),function(t){t[t.idle=0]="idle",t[t.loading=1]="loading",t[t.succeeded=2]="succeeded",t[t.failed=3]="failed"}(i||(i={}));var k=function(t,e){t(U(e.length?e[0]:"Some error is occurred"))},L=n(4),D={},w=function(t,e,n){return{type:"CHANGE-TASK-ENTITY-STATUS",taskId:t,todolistId:e,status:n}},N=function(t,e,n){return function(r,c){r(G(i.loading)),r(w(e,t,i.loading));var s=c().tasks[t].find((function(t){return t.id===e}));if(!s)return console.warn("Task was not found");var o=Object(O.a)({status:s.status,title:s.title,description:s.description,deadline:s.deadline,startDate:s.startDate,priority:s.priority},n);y(t,e,o).then((function(c){return c.data.resultCode===a.success?r(function(t,e,n){return{type:"UPDATE-TASK",taskId:t,todolistId:e,updateObject:n}}(e,t,n)):k(r,c.data.messages)})).catch((function(t){return r(U(t.message))})).finally((function(){r(G(i.succeeded)),r(w(e,t,i.succeeded))}))}},P={isLoggedIn:!1},R=function(t){return{type:"AUTH/SET-LOGGED-IN",isLoggedIn:t}},H={loadingStatus:i.idle,errorServer:null,isInitialized:!1},G=function(t){return{type:"APP/CHANGE-STATUS",loadingStatus:t}},U=function(t){return{type:"APP/CHANGE-ERROR-VALUE",errorServer:t}},K=[],M=function(t,e){return{type:"CHANGE-TODOLIST-ENTITY-STATUS",todolistId:t,entityStatus:e}},z=function(){return{type:"CLEAR-TODOLISTS"}},F=function(){return function(t){t(G(i.loading)),p().then((function(e){return t({type:"SET-TODOLISTS",todolists:e.data}),e.data})).then((function(e){return e.forEach((function(e){return t((n=e.id,function(t){t(G(i.loading)),I(n).then((function(e){return t(function(t,e){return{type:"SET-TASKS",todolistId:t,tasks:e}}(n,e.data.items))})).catch((function(e){return t(U(e.message))})).finally((function(){return t(G(i.succeeded))}))}));var n}))})).catch((function(e){return t(U(e.message))})).finally((function(){return t(G(i.succeeded))}))}},_=n(108),V=Object(b.b)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TODOLISTS":return e.todolists.map((function(t){return Object(O.a)(Object(O.a)({},t),{},{filter:"All",entityStatus:i.idle})}));case"ADD-TODOLIST":return[Object(O.a)(Object(O.a)({},e.todolist),{},{filter:"All",entityStatus:i.idle})].concat(Object(f.a)(t));case"CHANGE-TODOLIST-FILTER":return t.map((function(t){return t.id===e.todolistId?Object(O.a)(Object(O.a)({},t),{},{filter:e.filterId}):t}));case"CHANGE-TODOLIST-TITLE":return t.map((function(t){return t.id===e.todolistId?Object(O.a)(Object(O.a)({},t),{},{title:e.title}):t}));case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.todolistId}));case"CHANGE-TODOLIST-ENTITY-STATUS":return t.map((function(t){return t.id===e.todolistId?Object(O.a)(Object(O.a)({},t),{},{entityStatus:e.entityStatus}):t}));case"CLEAR-TODOLISTS":return[];default:return t}},tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET-TODOLISTS":var n=Object(O.a)({},t);return e.todolists.forEach((function(t){n[t.id]=[]})),n;case"SET-TASKS":return Object(O.a)(Object(O.a)({},t),{},Object(L.a)({},e.todolistId,e.tasks.map((function(t){return Object(O.a)(Object(O.a)({},t),{},{entityStatus:i.idle})}))));case"ADD-TASK":return Object(O.a)(Object(O.a)({},t),{},Object(L.a)({},e.todolistId,[Object(O.a)(Object(O.a)({},e.task),{},{entityStatus:i.idle})].concat(Object(f.a)(t[e.todolistId]))));case"UPDATE-TASK":return Object(O.a)(Object(O.a)({},t),{},Object(L.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(O.a)(Object(O.a)({},t),e.updateObject):t}))));case"REMOVE-TASK":return Object(O.a)(Object(O.a)({},t),{},Object(L.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case"CHANGE-TASK-ENTITY-STATUS":return Object(O.a)(Object(O.a)({},t),{},Object(L.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(O.a)(Object(O.a)({},t),{},{entityStatus:e.status}):t}))));case"ADD-TODOLIST":return Object(O.a)(Object(L.a)({},e.todolist.id,[]),t);case"REMOVE-TODOLIST":var r=Object(O.a)({},t);return delete r[e.todolistId],r;case"CLEAR-TASKS":return{};default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"APP/CHANGE-STATUS":return Object(O.a)(Object(O.a)({},t),{},{loadingStatus:e.loadingStatus});case"APP/CHANGE-ERROR-VALUE":return Object(O.a)(Object(O.a)({},t),{},{errorServer:e.errorServer});case"APP/INITIALIZE":return Object(O.a)(Object(O.a)({},t),{},{isInitialized:!0});default:return t}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;return"AUTH/SET-LOGGED-IN"===e.type?Object(O.a)(Object(O.a)({},t),{},{isLoggedIn:e.isLoggedIn}):t}}),Z=Object(b.c)(V,Object(b.a)(_.a)),B=j.c;window.store=Z;var Y=n(14),W=n(211),q=n(231),J=n(111),$=n.n(J),Q=n(1),X=o.a.memo((function(t){var e=t.disable,n=void 0!==e&&e,r=t.addItem,c=Object(s.useState)(""),a=Object(Y.a)(c,2),i=a[0],o=a[1],u=Object(s.useState)(!1),d=Object(Y.a)(u,2),l=d[0],j=d[1],b=Object(s.useCallback)((function(t){o(t),j(!1)}),[]),f=Object(s.useCallback)((function(t){"Enter"!==t&&"NumpadEnter"!==t||(""!==i.trim()?(r(i),o("")):j(!0))}),[i,r]);return Object(Q.jsxs)("div",{children:[Object(Q.jsx)(W.a,{variant:"outlined",size:"small",value:i,onChange:function(t){return b(t.currentTarget.value)},onKeyPress:function(t){return f(t.code)},label:"Title",error:l,helperText:l&&"Title is a must",style:{marginBottom:"10px"},disabled:n}),Object(Q.jsx)(q.a,{color:"primary",onClick:function(){return f("Enter")},disabled:n,children:Object(Q.jsx)($.a,{})})]})})),tt=n(220),et=o.a.memo((function(t){var e=t.disable,n=void 0!==e&&e,r=t.header,c=t.completed,a=t.changedTitle,i=t.titleMain,o=Object(s.useState)(i),u=Object(Y.a)(o,2),d=u[0],l=u[1],j=Object(s.useState)(!1),b=Object(Y.a)(j,2),f=b[0],O=b[1],m=Object(s.useCallback)((function(){return!n&&O(!0)}),[n]),h=Object(s.useCallback)((function(t){return l(t.currentTarget.value)}),[]),p=Object(s.useCallback)((function(){O(!1),a(d)}),[a,d]),g=Object(s.useCallback)((function(t){"Enter"===t.key&&p()}),[p]),T=r?{fontWeight:"bold",fontSize:"larger"}:c?{opacity:.35}:{opacity:1};return Object(Q.jsx)("div",{children:f?Object(Q.jsx)(W.a,{value:d,onChange:h,onBlur:p,onKeyPress:g,autoFocus:!0}):Object(Q.jsx)(tt.a,{onDoubleClick:m,style:T,children:i})})})),nt=n(216),rt=n(112),ct=n.n(rt),at=n(213),it=o.a.memo((function(t){var e=t.id,n=t.todolistId,c=t.disabled,o=void 0!==c&&c,u=B((function(t){return t.tasks[n].filter((function(t){return t.id===e}))[0]})),d=Object(j.b)(),l=o||u.entityStatus===i.loading,b=Object(s.useCallback)((function(t){return d(N(n,u.id,{title:t}))}),[d,n,u.id]),f=Object(s.useCallback)((function(t,e){d(N(n,t,e?{status:r.Completed}:{status:r.New}))}),[d,n]),O=Object(s.useCallback)((function(t){return d(function(t,e){return function(n){n(G(i.loading)),n(w(t,e,i.loading)),v(e,t).then((function(r){return r.data.resultCode===a.success?n(function(t,e){return{type:"REMOVE-TASK",taskId:t,todolistId:e}}(t,e)):k(n,r.data.messages)})).catch((function(t){return n(U(t.message))})).finally((function(){return n(G(i.succeeded))}))}}(t,n))}),[d,n]);return Object(Q.jsxs)(nt.a,{style:{padding:"0px"},children:[Object(Q.jsx)(q.a,{onClick:function(){return O(u.id)},size:"small",disabled:l,children:Object(Q.jsx)(ct.a,{color:l?"disabled":"secondary"})}),Object(Q.jsx)(at.a,{size:"small",color:"primary",onChange:function(t){return f(u.id,t.currentTarget.checked)},checked:u.status===r.Completed,disabled:l}),Object(Q.jsx)(et,{titleMain:u.title,changedTitle:b,completed:u.status===r.Completed,header:!1,disable:l})]})})),st=n(218),ot=n(230),ut=n(113),dt=n.n(ut),lt=o.a.memo((function(t){var e=t.todolistId;t.demo;Object(s.useEffect)((function(){}),[]);var n=Object(j.b)(),c=B((function(t){return t.todolists.filter((function(t){return t.id===e}))[0]})),o=B((function(t){return t.tasks[e]})),u=c.entityStatus===i.loading;o="Active"===c.filter?o.filter((function(t){return!(t.status===r.Completed)})):"Completed"===c.filter?o.filter((function(t){return t.status===r.Completed})):Object(f.a)(o);var d=Object(s.useCallback)((function(t){return n(function(t,e){return function(n){n(G(i.loading)),S(e,t).then((function(t){return t.data.resultCode===a.success?n(function(t,e){return{type:"ADD-TASK",todolistId:t,task:e}}(e,t.data.data.item)):k(n,t.data.messages)})).catch((function(t){return n(U(t.message))})).finally((function(){return n(G(i.succeeded))}))}}(t,e))}),[n,e]),l=Object(s.useCallback)((function(t){return n(function(t,e){return{type:"CHANGE-TODOLIST-FILTER",todolistId:e,filterId:t}}(t,e))}),[n,e]),b=Object(s.useCallback)((function(){return n(function(t){return function(e){e(G(i.loading)),e(M(t,i.loading)),x(t).then((function(n){return n.data.resultCode===a.success?e(function(t){return{type:"REMOVE-TODOLIST",todolistId:t}}(t)):e(U(n.data.messages?n.data.messages[0]:"Some error is occurred"))})).catch((function(t){return e(U(t.message))})).finally((function(){return e(G(i.succeeded))}))}}(e))}),[n,e]),O=Object(s.useCallback)((function(t){return n(function(t,e){return function(n){n(G(i.loading)),n(M(e,i.loading)),T(e,t).then((function(r){return r.data.resultCode===a.success?n(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",todolistId:e,title:t}}(t,e)):n(U(r.data.messages?r.data.messages[0]:"Some error is occurred"))})).catch((function(t){return n(U(t.message))})).finally((function(){n(G(i.succeeded)),n(M(e,i.succeeded))}))}}(t,e))}),[n,e]);return Object(Q.jsxs)("div",{children:[Object(Q.jsx)(q.a,{onClick:b,disabled:u,children:Object(Q.jsx)(dt.a,{color:u?"disabled":"secondary"})}),Object(Q.jsx)("h3",{children:Object(Q.jsx)(et,{changedTitle:O,titleMain:c.title,completed:!1,header:!0,disable:u})}),Object(Q.jsx)(X,{addItem:d,disable:u}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)(st.a,{variant:"contained",color:"All"===c.filter?"primary":"inherit",size:"small",onClick:function(){return l("All")},children:"All"}),Object(Q.jsx)(st.a,{variant:"contained",color:"Active"===c.filter?"primary":"inherit",size:"small",onClick:function(){return l("Active")},style:{margin:"0px 5px"},children:"Active"}),Object(Q.jsx)(st.a,{variant:"contained",color:"Completed"===c.filter?"primary":"inherit",size:"small",onClick:function(){return l("Completed")},children:"Completed"})]}),Object(Q.jsx)(ot.a,{children:o.map((function(t){return Object(Q.jsx)(it,{id:t.id,todolistId:e,disabled:u},t.id)}))})]})})),jt=n(227),bt=n(219),ft=n(226),Ot=n(15),mt=o.a.memo((function(t){var e=t.demo,n=void 0!==e&&e,r=Object(j.b)(),c=Object(Ot.g)(),o=B((function(t){return t.auth.isLoggedIn})),u=B((function(t){return t.todolists.map((function(t){return t.id}))}));Object(s.useEffect)((function(){n||(o?r(F()):c("login"))}),[o]);var d=Object(s.useCallback)((function(t){return r(function(t){return function(e){e(G(i.loading)),g(t).then((function(t){return t.data.resultCode===a.success?e({type:"ADD-TODOLIST",todolist:t.data.data.item}):e(U(t.data.messages?t.data.messages[0]:"Some error is occurred"))})).catch((function(t){return e(U(t.message))})).finally((function(){return e(G(i.succeeded))}))}}(t))}),[r]);return Object(Q.jsxs)(jt.a,{maxWidth:"xl",children:[Object(Q.jsx)(bt.a,{container:!0,style:{justifyContent:"center",margin:"20px"},children:Object(Q.jsx)(X,{addItem:d})}),Object(Q.jsx)(bt.a,{container:!0,spacing:3,style:{justifyContent:"center"},children:u.map((function(t){return Object(Q.jsx)(bt.a,{item:!0,children:Object(Q.jsx)(ft.a,{elevation:4,style:{padding:"15px"},children:Object(Q.jsx)(lt,{todolistId:t,demo:n})})},t)}))})]})})),ht=n(222),pt=n(223),gt=n(224),Tt=n(215),xt=n(214),It=s.forwardRef((function(t,e){return Object(Q.jsx)(xt.a,Object(O.a)({elevation:6,ref:e,variant:"filled"},t))}));function St(){var t=B((function(t){return t.app.errorServer})),e=Object(j.b)(),n=function(t,n){"clickaway"!==n&&e(U(null))};return Object(Q.jsx)(Tt.a,{open:!!t,autoHideDuration:5e3,onClose:n,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(Q.jsx)(It,{onClose:n,severity:"warning",sx:{width:"100%"},children:t})})}var yt=n(225),vt=n(228),Ct=n(207),At=n(229),Et=n(116),kt=function(){var t=Object(j.b)(),e=B((function(t){return t.auth.isLoggedIn})),n=Object(Et.a)({initialValues:{email:"free@samuraijs.com",password:"free",rememberMe:!1},validate:function(t){var e={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t.email)||(e.email="Invalid email address"):e.email="Required",t.password?t.password.length<4&&(e.password="Must be 3 or more characters"):e.password="Required",e},onSubmit:function(e){var r;t((r=e,function(t){t(G(i.loading)),A(r).then((function(e){return e.data.resultCode===a.success?t(R(!0)):k(t,e.data.messages)})).catch((function(e){return t(U(e.message))})).finally((function(){return t(G(i.succeeded))}))})),n.resetForm()}});return e?Object(Q.jsx)(Ot.a,{to:"/"}):Object(Q.jsx)(bt.a,{container:!0,justifyContent:"center",children:Object(Q.jsx)(bt.a,{item:!0,justifyContent:"center",children:Object(Q.jsxs)(yt.a,{children:[Object(Q.jsxs)(Ct.a,{children:[Object(Q.jsxs)("p",{children:["To log in get registered",Object(Q.jsx)("a",{href:"https://social-network.samuraijs.com/",target:"_blank",rel:"noreferrer",children:" here"})]}),Object(Q.jsx)("p",{children:"or use common test account credentials:"}),Object(Q.jsx)("p",{children:"Email: free@samuraijs.com"}),Object(Q.jsx)("p",{children:"Password: free"})]}),Object(Q.jsx)("form",{onSubmit:n.handleSubmit,children:Object(Q.jsxs)(vt.a,{children:[Object(Q.jsx)(W.a,Object(O.a)({label:"Email",margin:"normal"},n.getFieldProps("email"))),n.touched.email&&n.errors.email?Object(Q.jsx)("div",{style:{color:"red"},children:n.errors.email}):null,Object(Q.jsx)(W.a,Object(O.a)({type:"password",label:"Password",margin:"normal"},n.getFieldProps("password"))),n.touched.password&&n.errors.password?Object(Q.jsx)("div",{style:{color:"red"},children:n.errors.password}):null,Object(Q.jsx)(At.a,{label:"Remember me",control:Object(Q.jsx)(at.a,Object(O.a)({},n.getFieldProps("rememberMe")))}),Object(Q.jsx)(st.a,{type:"submit",variant:"contained",color:"primary",children:"Login"})]})})]})})})},Lt=n(90),Dt=n.n(Lt),wt=n.p+"static/media/not_found_404.91b427fb.png",Nt=function(){return Object(Q.jsx)("div",{className:Dt.a.container,children:Object(Q.jsx)("div",{className:Dt.a.image,children:Object(Q.jsx)("img",{src:wt,alt:"not_found_404"})})})},Pt=n(221),Rt=o.a.memo((function(t){var e=t.demo,n=void 0!==e&&e,r=B((function(t){return t.app})),c=r.loadingStatus,o=r.isInitialized,u=B((function(t){return t.auth.isLoggedIn})),d=Object(j.b)(),l=Object(s.useCallback)((function(){return d((function(t){t(G(i.loading)),E().then((function(e){e.data.resultCode===a.success?(t(R(!1)),t({type:"CLEAR-TASKS"}),t(z())):k(t,e.data.messages)})).catch((function(e){return t(U(e.message))})).finally((function(){return t(G(i.succeeded))}))}))}),[d]);return Object(s.useEffect)((function(){d((function(t){C().then((function(e){return e.data.resultCode===a.success?t(R(!0)):t(R(!1))})).catch((function(e){return t(U(e.message))})).finally((function(){return t({type:"APP/INITIALIZE"})}))}))}),[]),o?Object(Q.jsxs)("div",{className:"App",children:[Object(Q.jsx)(ht.a,{position:"sticky",style:{display:"flex",alignItems:"center",width:"100%"},children:Object(Q.jsxs)(pt.a,{style:{width:"90%",maxWidth:"800px",justifyContent:"".concat(u?"space-between":"center")},children:[Object(Q.jsx)("div",{style:{display:"flex"},children:Object(Q.jsx)(tt.a,{variant:"h6",style:{margin:"auto",textTransform:"uppercase"},children:"Todolists"})}),Object(Q.jsx)("div",{children:u&&Object(Q.jsx)(st.a,{variant:"outlined",color:"inherit",onClick:l,children:"Logout"})})]})}),c===i.loading&&Object(Q.jsx)(gt.a,{color:"success"}),Object(Q.jsxs)(Ot.d,{children:[Object(Q.jsx)(Ot.b,{path:"/",element:Object(Q.jsx)(mt,{demo:n})}),Object(Q.jsx)(Ot.b,{path:"login",element:Object(Q.jsx)(kt,{})}),Object(Q.jsx)(Ot.b,{path:"*",element:Object(Q.jsx)(Ot.a,{to:"404"})}),Object(Q.jsx)(Ot.b,{path:"404",element:Object(Q.jsx)(Nt,{})})]}),Object(Q.jsx)(St,{})]}):Object(Q.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:50},children:Object(Q.jsx)(Pt.a,{})})})),Ht=n(60);d.a.render(Object(Q.jsx)(j.a,{store:Z,children:Object(Q.jsx)(Ht.a,{children:Object(Q.jsx)(Rt,{})})}),document.getElementById("root")),l()},90:function(t,e,n){t.exports={container:"Error404_container__24TOz"}}},[[160,1,2]]]);
//# sourceMappingURL=main.c3dfede3.chunk.js.map